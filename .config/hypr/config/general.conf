#   ██████╗ ███████╗███╗   ██╗███████╗██████╗  █████╗ ██╗     
#  ██╔════╝ ██╔════╝████╗  ██║██╔════╝██╔══██╗██╔══██╗██║     
#  ██║  ███╗█████╗  ██╔██╗ ██║█████╗  ██████╔╝███████║██║     
#  ██║   ██║██╔══╝  ██║╚██╗██║██╔══╝  ██╔══██╗██╔══██║██║     
#  ╚██████╔╝███████╗██║ ╚████║███████╗██║  ██║██║  ██║███████╗
#   ╚═════╝ ╚══════╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝
#     

# Import theme
source = ~/.config/hypr/themes/mocha.conf
source = ~/.cache/wal/hyprland_pywal_colors.conf
# Env setup
env = XCURSOR_SIZE,32
env = XCURSOR_THEME,Bibata-Modern-Classic

# env = HYPRCURSOR_THEME,Catppuccin Mocha Dark
env = HYPRCURSOR_THEME,Bibata-Modern-Classic
env = HYPRCURSOR_SIZE,32

env = OBS_VKCAPTURE,1
env = WLR_NO_HARDWARE_CURSORS,0
env = QT_QPA_PLATFORMTHEME,qt5ct
env = QT_ENABLE_HIGHDPI_SCALING,0
env = QT_QPA_PLATFORM,wayland
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
env = QT_AUTO_SCREEN_SCALE_FACTOR,0
env = QT_STYLE_OVERRIDE,kvantum
env = GDK_SCALE,1
env = HYPRSHOT_DIR,/home/pawelkuzia/Pictures/screenshots
# env = GTK_THEME,Wal
# env = GTK_THEME,Catppuccin-Mocha-Standard-Lavender-Dark
env = ELECTRON_OZONE_PLATFORM_HINT,wayland

input {
    kb_layout = pl
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =
    numlock_by_default = true
    follow_mouse = 2
    accel_profile = flat
  float_switch_override_focus = 0
	#~ mouse_refocus = false
    touchpad {
        natural_scroll = no
    }

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
}

cursor {
    # sync_gsettings_theme = true
    sync_gsettings_theme = true
    no_warps = true
    default_monitor = DP-1
    no_hardware_cursors = 0
  # use_cpu_buffer = 1
    enable_hyprcursor = true
    zoom_factor = 1
    no_break_fs_vrr = 1
    min_refresh_rate = 48
}

general {

    gaps_in = 6
    gaps_out = 12
    gaps_workspaces = 12
    border_size = 2
    #~ col.active_border = rgba(FB8C00ee) rgba(00ff99ee) 45deg
    col.active_border = $color5 $color6 45deg
    col.inactive_border = $color0
    # no_cursor_warps = true

    layout = nstack 
}

decoration {

  inactive_opacity = 1
  active_opacity = 1
  fullscreen_opacity = 1
    rounding = 4
    
    blur {
        enabled = true
        size = 10
        passes = 2
        brightness = 1
        contrast = 1 
        vibrancy = 1
        new_optimizations = true
        ignore_opacity = true
        
        
    }
  shadow {
    enabled = yes
    range = 20
    render_power = 5
    color = rgba(00000044)
  } 
}

group {
    col.border_active = $lavender
    col.border_inactive = $base
    groupbar {
        font_size = 17
        height = 26
        indicator_height = 4
        col.active = rgb(000000)
        col.inactive = $base
        priority = 5
        stacked = false
    }
}
animations {
    enabled = yes
    # bezier = wind, 0.05, 0.9, 0.1, 1
    bezier = wind, 0.34, 1, 0.64, 1
    bezier = winmove, 0.34, 1.1, 0.64, 1
    bezier = winIn,0.34, 1.2, 0.64, 1
    bezier = layerIn,0.34, 1.15, 0.64, 1
    # bezier = winIn, 0.1, 1, 0.1, 1
    # bezier = winOut, 0.3, -0.3, 0, 1
    bezier = winOut, 0.34, 1.2, 0.64, 1
    bezier = layerOut, 0.34, 1.15, 0.64, 1
    bezier = easeOut, 0.85, 0.16, 0.96, 0.58
    bezier = liner, 1, 1, 1, 1
    animation = windows, 1, 6, wind, gnomed
    animation = windowsIn, 1, 6, winIn, popin 50%
    animation = windowsOut, 1, 7, winOut, gnomed
    animation = windowsMove, 1, 5, winmove, gnomed
    animation = border, 0, 0.2, liner
    animation = borderangle, 1, 30, liner, loop
    animation = fade, 1, 2, default
    animation = workspaces, 1, 4, winmove, slidefade
    animation = specialWorkspace, 1, 5, winIn, slidevert
    animation = layers, 1, 3, layerIn, slide
    animation = layersOut, 1, 3, layerOut, slide

    
}

xwayland {
  force_zero_scaling = true 
}

dwindle {
    pseudotile = yes # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = yes # you probably want this
}

master {
    new_status = slave
    new_on_top = false
    inherit_fullscreen = false
    orientation = center
    slave_count_for_center_master=0
    # always_center_master = true
	mfact=0.5
}

plugin {

      nstack {
        layout {
            orientation=left
            new_on_top=0
            new_is_master=0
            no_gaps_when_only=0
            special_scale_factor=1
            inherit_fullscreen=1
            # stacks=3
            # center_single_master=0
            mfact=0.5
            single_mfact=0.5
    }
  }
  overview {
    panelColor = rgba(1e1e2e55)
    workspaceActiveBorder = $lavender
    panelHeight = 250
    affectStrut = 1
    drawActiveWorkspace = 1
    hideTopLayers = 1 
    showEmptyWorkspace = 0
    showNewWorkspace = 1 
    overrideGaps = 0 
    affectStrut = 0 
    hideOverlayLayers = 1
    hideRealLayers = 1 
    switchOnDrop = 1 
    autoDrag = 1
  }
    hyprbars {
        # example config
        bar_height = 32
        bar_blur = true
        bar_part_of_window = true
        bar_precedence_over_border = true
        bar_color = $base
        bar_text_align = left
        # example buttons (R -> L)
        # hyprbars-button = color, size, on-click
        hyprbars-button = rgb(ff4040), 20,x  , hyprctl dispatch killactive
        hyprbars-button = rgb(eeee11), 30,+  , hyprctl dispatch fullscreen 1
    }

}

gestures {
    workspace_swipe = off
}

misc {
    disable_hyprland_logo = true
  vrr = 1
    
}

binds {
    movefocus_cycles_fullscreen = false
}

debug {
  overlay = false
  full_cm_proto = true
}

render {
  cm_fs_passthrough = true
}
