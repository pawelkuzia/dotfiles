#
#  ███╗   ███╗ ██████╗ ███╗   ██╗██╗████████╗ ██████╗ ██████╗ ███████╗
#  ████╗ ████║██╔═══██╗████╗  ██║██║╚══██╔══╝██╔═══██╗██╔══██╗██╔════╝
#  ██╔████╔██║██║   ██║██╔██╗ ██║██║   ██║   ██║   ██║██████╔╝███████╗
#  ██║╚██╔╝██║██║   ██║██║╚██╗██║██║   ██║   ██║   ██║██╔══██╗╚════██║
#  ██║ ╚═╝ ██║╚██████╔╝██║ ╚████║██║   ██║   ╚██████╔╝██║  ██║███████║
#  ╚═╝     ╚═╝ ╚═════╝ ╚═╝  ╚═══╝╚═╝   ╚═╝    ╚═════╝ ╚═╝  ╚═╝╚══════╝
#  
monitor = DP-1, 3840x2160@60, 1080x0, 1
monitor = DP-2, 1920x1080, 0x120, 1, transform, 1
monitor = DP-3, 1920x1080, 4920x120, 1, transform, 3
#monitor = HDMI-A-1, 3840x2160@60, 4920x120,1, mirror,DP-1
monitor = HDMI-A-1, disable
#
#  ███████╗██╗  ██╗███████╗ ██████╗
#  ██╔════╝╚██╗██╔╝██╔════╝██╔════╝
#  █████╗   ╚███╔╝ █████╗  ██║     
#  ██╔══╝   ██╔██╗ ██╔══╝  ██║     
#  ███████╗██╔╝ ██╗███████╗╚██████╗
#  ╚══════╝╚═╝  ╚═╝╚══════╝ ╚═════╝
#   

exec-once = waybar & lxpolkit & blueman-applet & nm-applet & goxlr-daemon & swaync & hyprnextcloud
exec-once = easyeffects --gapplication-service
# exec-once = nwg-dock-hyprland -l top -mb -80 -r
# exec-once = nwg-drawer -mt 900 -ml 1250 -mr 1250 -mb 12 -r -fm nemo -nofs -spacing 6 -c 6 
exec-once = exec /home/pawelkuzia/Downloads/companion-x64/companion-launcher
# exec-once = xembedsniproxy
exec-once = hyprpm reload -n
exec-once = pypr
# exec-once = swaybg -i $(sed -n '1p;' /home/pawelkuzia/.config/waybar/lastwallpaper) -m fill
exec-once = swww-daemon
exec-once = hyprctl dispatch workspace 2
exec-once = hyprctl dispatch workspace 1
exec-once = hyprctl dispatch workspace 4
exec-once = hyprctl dispatch workspace 3
exec-once = hyprctl dispatch workspace 6
exec-once = hyprctl dispatch workspace 5


exec = import-gsettings



#   ██████╗ ███████╗███╗   ██╗███████╗██████╗  █████╗ ██╗     
#  ██╔════╝ ██╔════╝████╗  ██║██╔════╝██╔══██╗██╔══██╗██║     
#  ██║  ███╗█████╗  ██╔██╗ ██║█████╗  ██████╔╝███████║██║     
#  ██║   ██║██╔══╝  ██║╚██╗██║██╔══╝  ██╔══██╗██╔══██║██║     
#  ╚██████╔╝███████╗██║ ╚████║███████╗██║  ██║██║  ██║███████╗
#   ╚═════╝ ╚══════╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝
#     

# Import theme
source = ~/.config/hypr/themes/mocha.conf

# Some default env vars.
env = XCURSOR_SIZE,24
env = XCURSOR_THEME,Adwaita

env = HYPRCURSOR_THEME,Catppuccin-Mocha-Dark
env = HYPRCURSOR_SIZE,24

env = OBS_VKCAPTURE,1
env = WLR_NO_HARDWARE_CURSORS,0
env = QT_QPA_PLATFORMTHEME,qt5ct
env = QT_ENABLE_HIGHDPI_SCALING,0
env = QT_QPA_PLATFORM,wayland
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
env = QT_AUTO_SCREEN_SCALE_FACTOR,0
env = HYPRSHOT_DIR,/home/pawelkuzia/Pictures/screenshots
env = GTK_THEME,Catppuccin-Mocha-Standard-Lavender-Dark
env = ELECTRON_OZONE_PLATFORM_HINT,wayland

# For all categories, see https://wiki.hyprland.org/Configuring/Variables/
input {
    kb_layout = pl
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =
    numlock_by_default = true
    follow_mouse = 2
    float_switch_override_focus = 0
	#~ mouse_refocus = false
    touchpad {
        natural_scroll = no
    }

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
}

cursor {
    no_warps = true
    default_monitor = DP-1
    no_hardware_cursors = 0
    enable_hyprcursor = 0
    zoom_factor = 1

}

general {

    gaps_in = 6
    gaps_out = 12
    gaps_workspaces = 12
    border_size = 2
    #~ col.active_border = rgba(FB8C00ee) rgba(00ff99ee) 45deg
    col.active_border = $lavender
    col.inactive_border = $base
    # no_cursor_warps = true

    layout = master
}

decoration {

    rounding = 12
    
    blur {
        enabled = true
        size = 7
        passes = 3
       brightness = 0.8
       contrast = 0.5
        vibrancy = 0.5
        new_optimizations = true
        ignore_opacity = true
        
        
    }

    drop_shadow = yes
    shadow_range = 20
    shadow_render_power = 5
    col.shadow = rgba(00000044)
    
}

group {
    col.border_active = $lavender
    col.border_inactive = $base
    groupbar {
        height = 26
        col.active = $lavender
        col.inactive = $base
    }
}
animations {
    enabled = yes
    bezier = wind, 0.05, 0.9, 0.1, 1
    bezier = winIn, 0.1, 1, 0.1, 1
    bezier = winOut, 0.3, -0.3, 0, 1
    bezier = layerOut, 0.63, 0.11, 0.43, 0.89 
    bezier = easeOut, 0.85, 0.16, 0.96, 0.58
    bezier = liner, 1, 1, 1, 1
    animation = windows, 1, 6, wind, slide
    animation = windowsIn, 1, 6, winIn, slide
    animation = windowsOut, 1, 5, winOut, slide
    animation = windowsMove, 1, 5, wind, slide
    animation = border, 1, 1, liner
    animation = borderangle, 1, 30, liner, loop
    animation = fade, 1, 10, default
    animation = workspaces, 1, 5, wind
    animation = specialWorkspace, 1, 5, winIn, slidevert
    animation = layers, 1, 3, winIn, slide1920x1080, 0x120, 1, transform, 1
    animation = layersOut, 1, 3, layerOut, popin
    
}


dwindle {
    # See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
    pseudotile = yes # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = yes # you probably want this
}

master {
    # See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
    new_status = slave
    new_on_top = false
    inherit_fullscreen = false
    orientation = center
    always_center_master = true
	mfact=0.5
}

plugin {
    hycov {
        overview_gappo = 150 # gaps width from screen edge
        overview_gappi = 50 # gaps width from clients
        enable_hotarea = 0 # enable mouse cursor hotarea, when cursor enter hotarea, it will toggle overview    
        hotarea_monitor = DP-2 # monitor name which hotarea is in, default is all
        hotarea_pos = 1 # position of hotarea (1: bottom left, 2: bottom right, 3: top left, 4: top right)
        hotarea_size = 10 # hotarea size, 10x10
        swipe_fingers = 4 # finger number of gesture,move any directory
        move_focus_distance = 100 # distance for movefocus,only can use 3 finger to move 
        enable_gesture = 0 # enable gesture
        auto_exit = 1 # enable auto exit when no client in overview
        auto_fullscreen = 0 # auto make active window maximize after exit overview
        only_active_workspace = 0 # only overview the active workspace
        only_active_monitor = 1 # only overview the active monitor
        enable_alt_release_exit = 1 # alt swith mode arg,see readme for detail
        alt_replace_key = Super_L # alt swith mode arg,see readme for detail
        alt_toggle_auto_next = 0	 # auto focus next window when toggle overview in alt swith mode
        click_in_cursor = 1 # when click to jump,the target windwo is find by cursor, not the current foucus window.
        hight_of_titlebar = 0 # height deviation of title bar height
        show_special = 0 # show windwos in special workspace in overview.
        enable_alt_release_exit = 1

    }
      nstack {
        layout {
            orientation=center
            new_on_top=0
            new_is_master=0
            no_gaps_when_only=0
            special_scale_factor=0.8
            inherit_fullscreen=0
            stacks=5
            center_single_master=1
            mfact=0.5
            single_mfact=0.5
    }
  }
  overview {
    panelColor = $base
    workspaceActiveBorder = $lavender
    panelHeight = 200
    affectStrut = 1
    drawActiveWorkspace = 1
    hideTopLayers = 1
  }
    hyprbars {
        # example config
        bar_height = 32
        bar_part_of_window = true
        bar_precedence_over_border = true
        bar_color = $base

        # example buttons (R -> L)
        # hyprbars-button = color, size, on-click
        hyprbars-button = rgb(ff4040), 20,  , hyprctl dispatch killactive
        hyprbars-button = rgb(eeee11), 20,  , hyprctl dispatch fullscreen 1
    }
}

gestures {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    workspace_swipe = off
}

misc {
    # force_hypr_chan = false
    disable_hyprland_logo = true
    
}

binds {
    movefocus_cycles_fullscreen = false
}

#  ██╗    ██╗ ██████╗ ██████╗ ██╗  ██╗███████╗██████╗  █████╗  ██████╗███████╗███████╗
#  ██║    ██║██╔═══██╗██╔══██╗██║ ██╔╝██╔════╝██╔══██╗██╔══██╗██╔════╝██╔════╝██╔════╝
#  ██║ █╗ ██║██║   ██║██████╔╝█████╔╝ ███████╗██████╔╝███████║██║     █████╗  ███████╗
#  ██║███╗██║██║   ██║██╔══██╗██╔═██╗ ╚════██║██╔═══╝ ██╔══██║██║     ██╔══╝  ╚════██║
#  ╚███╔███╔╝╚██████╔╝██║  ██║██║  ██╗███████║██║     ██║  ██║╚██████╗███████╗███████║
#   ╚══╝╚══╝  ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚═╝     ╚═╝  ╚═╝ ╚═════╝╚══════╝╚══════╝
#  


# workspace = 1, monitor:DP-1, persistent:true, default:true, layoutopt:nstack-orientation:center,nstack-stacks:2, nstack-center_single_master:0
# workspace = 2, monitor:DP-1, persistent:true, default:false, layoutopt:nstack-orientation:left, nstack-center_single_master:1
# workspace = 3, monitor:DP-3, persistent:true, default:true, layoutopt:nstack-orientation:top
# workspace = 4, monitor:DP-3, persistent:true, default:false, layoutopt:nstack-orientation:top
# workspace = 5, monitor:DP-2, persistent:true, default:true, layoutopt:nstack-orientation:top
# workspace = 6, monitor:DP-2, persistent:true, default:false, layoutopt:nstack-orientation:bottom
# workspace = 1, persistent:true
# workspace = 2, persistent:true
# workspace = 3, persistent:true
# workspace = 4, persistent:true
# workspace = 5, persistent:true
# workspace = 6, persistent:true

# workspace = 10, monitor:DP-1, persistent:false, default:false


workspace = 1, monitor:DP-1, persistent:true, default:true
workspace = 2, monitor:DP-1, persistent:true, default:false
workspace = 3, monitor:DP-3, persistent:true, default:true, layoutopt:orientation:top
workspace = 4, monitor:DP-3, persistent:true, default:false, layoutopt:orientation:top
workspace = 5, monitor:DP-2, persistent:true, default:true, layoutopt:orientation:top
workspace = 6, monitor:DP-2, persistent:true, default:false, layoutopt:orientation:bottom
workspace = 9, monitor:DP-1, persistent:false, default:false
workspace = 10, monitor:DP-1, persistent:false, default:false


#  ██████╗ ██╗   ██╗██╗     ███████╗███████╗
#  ██╔══██╗██║   ██║██║     ██╔════╝██╔════╝
#  ██████╔╝██║   ██║██║     █████╗  ███████╗
#  ██╔══██╗██║   ██║██║     ██╔══╝  ╚════██║
#  ██║  ██║╚██████╔╝███████╗███████╗███████║
#  ╚═╝  ╚═╝ ╚═════╝ ╚══════╝╚══════╝╚══════╝
#  

layerrule = blur,swaync-notification-window
layerrule = ignorezero,swaync-notification-window
layerrule = animation slide right,swaync-notification-window


layerrule = blur,nwg-dock
layerrule = ignorezero,nwg-dock


layerrule = blur,gtk-layer-shell
layerrule = ignorezero,gtk-layer-shell
#~ layerrule = animation popin 95%,wallpaper
layerrule = noanim, wallpaper


layerrule = blur,swaync-control-center
layerrule = ignorezero,swaync-control-center
layerrule = animation slide right,swaync-control-center

layerrule = blur,waybar
layerrule = ignorezero,waybar

layerrule = noanim, hyprpicker
layerrule = noanim, selection

layerrule = blur,rofi
layerrule = ignorezero,rofi
layerrule = dimaround,rofi

windowrulev2 = noblur, class:(easyeffects), floating:1 
windowrulev2 = opacity 1 override, class:(easyeffects), floating:1 

windowrulev2 = float, class:(xdg-desktop-portal-gtk)
windowrulev2 = opacity 0.85 override,focus:0
windowrulev2 = opacity 1 override,fullscreen:1
windowrulev2 = tile, class:(chatterino)
windowrulev2 = workspace 6, class:(chatterino)

windowrulev2 = float, class:(Guake)
windowrulev2 = move 1280 64, class:(Guake)
windowrulev2 = size 1280 800, class: (Guake)

windowrulev2 = workspace 1, class:(firefox)
windowrulev2 = workspace 5,class:(thunderbird)
windowrulev2 = workspace 2,class:(steam)
windowrulev2 = workspace 10,initialclass:(steam_app_)(.*)
windowrulev2 = workspace 2,class:(lutris)
windowrulev2 = workspace 2,class:(heroic)
windowrulev2 = workspace 6,class:(obs)
windowrulev2 = workspace 3,class:(FFPWA-01H8C8XZH1X1HBPHWAW5P10GFW)
windowrulev2 = workspace 3,class:(FFPWA-01H8C5YNJM7E2K5PWYN5HSDVWE)
windowrulev2 = workspace 3,class:(caprine)
windowrulev2 = workspace 3,class:(Caprine)
windowrulev2 = workspace 3,class:(signal)

windowrulev2 = animation slide top,class:(ueberzugpp)(.*)

#  ██████╗ ██╗███╗   ██╗██████╗ ███████╗
#  ██╔══██╗██║████╗  ██║██╔══██╗██╔════╝
#  ██████╔╝██║██╔██╗ ██║██║  ██║███████╗
#  ██╔══██╗██║██║╚██╗██║██║  ██║╚════██║
#  ██████╔╝██║██║ ╚████║██████╔╝███████║
#  ╚═════╝ ╚═╝╚═╝  ╚═══╝╚═════╝ ╚══════╝
#  

# See https://wiki.hyprland.org/Configuring/Keywords/ for morey
$mainMod = SUPER

# Hyprland Control
bind = SUPER_SHIFT, backspace, exec, killhypr # Kill Hyprland

# Program Launching
bind = SUPER, return, exec, kitty # Terminal
bind = CTRL_SHIFT, space, exec, rofi -show combi -monitor DP-1 # Program Launcher
bind = SUPER, E, exec, nemo # File Manager
bind = Alt_L,grave,exec, pypr toggle alaquake # Drop down Terminal

# Screenshots
bind = SUPER_SHIFT, S, exec, grimblast --notify --freeze copysave area $(xdg-user-dir SCREENSHOTS)/$(date +'%s_grimblast.png') # Screenshot - Snipping Tool
bind = , Print, exec, grimblast --notify --freeze copy screen # Screenshot Fullscreen Copy
bind = SUPER, Print, exec, grimblast --notify --freeze copysave output $(xdg-user-dir SCREENSHOTS)/$(date +'%s_grimblast.png') # Screenshot Fullscreen Copy File Save
bind = SUPER_SHIFT, Print, exec, grimblast --notify --freeze copysave screen $(xdg-user-dir SCREENSHOTS)/$(date +'%s_grimblast.png') # Screenshot Fullscreen Copy File Save

bind = SUPER_SHIFT, P, exec, hyprpicker -a # Color Picker

# App Switching
binde = ALT, Tab, cyclenext, # Next Client
binde = ALT, Tab, bringactivetotop, 
binde = ALT_SHIFT, Tab, cyclenext, prev # Previous Client
binde = ALT_SHIFT, Tab, bringactivetotop

# binde = SUPER, Tab, exec, hyprctl dispatch layoutmsg rollnext
# binde = SUPER_SHIFT, Tab, exec, hyprctl dispatch layoutmsg rollprev

bind = SUPER, Tab, exec, hyprctl dispatch overview:toggle # Toggle Overview
bind = SUPER_SHIFT, Tab, exec, hyprctl dispatch overview:toggle all 
bind = SUPER,grave,hycov:toggleoverview,forceallinone # Show All Clients

# Layout Switching
bind = SUPER_CTRL, space, exec, hyprctl dispatch layoutmsg orientationcycle center left # Cycle Layouts


bind = SUPER_CTRL_SHIFT, 1, exec, sleep 2 && hyprctl keyword monitor HDMI-A-1,disable
bind = SUPER_CTRL_SHIFT, 1, exec, hyprctl keyword monitor DP-1,3840x2160,1080x0,1
bind = SUPER_CTRL_SHIFT, 1, exec, hyprctl keyword monitor DP-3,1920x1080,4920x120,1,transform,3
bind = SUPER_CTRL_SHIFT, 1, exec, hyprctl keyword monitor DP-2,1920x1080,0x120,1,transform,1
#bind = SUPER_CTRL_SHIFT, 2, exec, hyprctl keyword monitor HDMI-A-1,3840x2160@60,auto,1,mirror,DP-1
bind = SUPER_CTRL_SHIFT, 1, exec, hyprctl dispatch layoutmsg orientationcenter
bind = SUPER_CTRL_SHIFT, 1, exec, swww restore
#bind = SUPER_CTRL_SHIFT, 1, exec, killall -SIGUSR2 waybar


bind = SUPER_CTRL_SHIFT, 2, exec, sleep 2 && hyprctl keyword monitor HDMI-A-1,disable
bind = SUPER_CTRL_SHIFT, 2, exec, hyprctl keyword monitor DP-1,3840x2160,1080x420,2
bind = SUPER_CTRL_SHIFT, 2, exec, hyprctl keyword monitor DP-3,1920x1080,3000x120,1,transform,3
bind = SUPER_CTRL_SHIFT, 2, exec, hyprctl keyword monitor DP-2,1920x1080,0x120,1,transform,1
#bind = SUPER_CTRL_SHIFT, 2, exec, hyprctl keyword monitor HDMI-A-1,3840x2160@60,auto,2,mirror,DP-1
bind = SUPER_CTRL_SHIFT, 2, exec, hyprctl dispatch layoutmsg orientationleft
bind = SUPER_CTRL_SHIFT, 2, exec, swww restore
#bind = SUPER_CTRL_SHIFT, 2, exec, killall -SIGUSR2 waybar

bind = SUPER_CTRL_SHIFT, 3, exec, hyprctl keyword monitor DP-1,3840x2160,0x0,2
bind = SUPER_CTRL_SHIFT, 3, exec, hyprctl keyword monitor DP-2,disable
bind = SUPER_CTRL_SHIFT, 3, exec, hyprctl keyword monitor DP-3,disable
bind = SUPER_CTRL_SHIFT, 3, exec, hyprctl keyword monitor HDMI-A-1,3840x2160@60,auto,2,mirror,DP-1
bind = SUPER_CTRL_SHIFT, 3, exec, hyprctl dispatch layoutmsg orientationleft
#bind = SUPER_CTRL_SHIFT, 3, exec, killall -SIGUSR2 waybar
bind = SUPER_CTRL_SHIFT, 3, exec, swww restore

# Window Management
bind = SUPER, F, fullscreen, 0
bind = SUPER_SHIFT, F, fullscreen, 2
bind = SUPER, M,  fullscreen, 1
bind = SUPER_SHIFT, C, killactive, 
bind = SUPER, V, togglefloating, 
bind = SUPER, T, toggleopaque
bind = SUPER, G, togglegroup
bind = CTRL_SUPER_SHIFT, W, layoutmsg, swapwithmaster
bind = SUPER_SHIFT, right, movewindow, r
bind = SUPER_SHIFT, left, movewindow, l
bind = SUPER_SHIFT, up, movewindow, u
bind = SUPER_SHIFT, down, movewindow, d
bind = CTRL_SUPER, left, workspace, m-1
bind = CTRL_SUPER, right, workspace, m+1
bind = CTRL_SUPER_SHIFT, left, movetoworkspace, m-1
bind = CTRL_SUPER_SHIFT, right, movetoworkspace, m+1

# Float and center current window to 1080p
bind = CTRL_SUPER_SHIFT, S, setfloating # Float and center current window to 1080p
bind = CTRL_SUPER_SHIFT, S, exec, hyprctl dispatch resizeactive exact 1920 1080
bind = CTRL_SUPER_SHIFT, S, exec, hyprctl dispatch centerwindow

# Move focus with mainMod + arrow keys
bind = SUPER, left, movefocus, l
bind = SUPER, right, movefocus, r
bind = SUPER, up, movefocus, u
bind = SUPER, down, movefocus, d
bind = SUPER_ALT, left, focusmonitor, +1
bind = SUPER_ALT, right, focusmonitor, -1

# Switch workspaces with mainMod + [0-9]
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER, 6, workspace, 6
bind = SUPER, 7, workspace, 7
bind = SUPER, 8, workspace, 8
bind = SUPER, 9, workspace, 9
bind = SUPER, 0, workspace, 10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5
bind = SUPER SHIFT, 6, movetoworkspace, 6
bind = SUPER SHIFT, 7, movetoworkspace, 7
bind = SUPER SHIFT, 8, movetoworkspace, 8
bind = SUPER SHIFT, 9, movetoworkspace, 9
bind = SUPER SHIFT, G, movetoworkspace, 10

# Scroll through existing workspaces with mainMod + scroll
# bind = $mainMod, mouse_down, workspace, e+1
# bind = $mainMod, mouse_up, workspace, e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow

# Media Contorls
bindl=, XF86AudioPlay, exec, playerctl -p spotify_player play-pause # Spotify Player Play/Pause 
bindl=, XF86AudioNext, exec, playerctl -p spotify_player next # Spotify Player Next
bindl=, XF86AudioPrev, exec, playerctl -p spotify_player previous # Spotify Player Previous
bind=, XF86Tools, exec, kitty spotify_player # Spotify Player
bind = SUPER, s, exec, scratchpad # Add to scratchpad
bind = SUPER_CTRL, s, exec, scratchpad -g # Spawn from scratchpad

